{"title":"Python GDP动态柱状图开发","uid":"d7beb722263ecc7b27e64008947473be","slug":"python GDP动态柱状图开发","date":"2022-12-22T01:56:16.165Z","updated":"2022-12-22T02:02:54.568Z","comments":true,"path":"api/articles/python GDP动态柱状图开发.json","keywords":null,"cover":"/img/a3.jpeg","content":"<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">&quot;&quot;&quot;\nGDP动态柱状图开发\n&quot;&quot;&quot;\nfrom pyecharts.charts import Bar, Timeline\nfrom pyecharts.options import *\nfrom  pyecharts.globals import ThemeType\n\n\n\n# 读取数据\nf &#x3D; open(&quot;..&#x2F;data&#x2F;1960-2019全球GDP数据.csv&quot;, encoding&#x3D;&quot;GB2312&quot;)\ndata_lines &#x3D; f.readlines()\n# 关闭文件\nf.close()\n# 删除第一条数据\ndata_lines.pop(0)\n# 将数据转为字典存储,格式为：\n# &#123; 年份: [[国家, gdp], [国家, gdp], .......],  年份: [[国家, gdp], [国家, gdp], .......&#125;\n# 先定义字典对象\ndata_dict &#x3D; &#123;&#125;\nfor line in data_lines:\n    year &#x3D; int(line.split(&quot;,&quot;)[0])       # 年份\n    country &#x3D; line.split(&quot;,&quot;)[1]   # 国家\n    gdp &#x3D; float(line.split(&quot;,&quot;)[2])      # GDP数据\n    # 如何判断字典里有无指定key\n    try:\n        data_dict[year].append([country, gdp])\n    except KeyError:\n        data_dict[year] &#x3D; []\n        data_dict[year].append([country, gdp])\n\n# 创建时间线对象\ntimeline &#x3D; Timeline(&#123;&quot;theme&quot;: ThemeType.LIGHT&#125;)\n\n# 排序年份\nsorted_year_list &#x3D; sorted(data_dict.keys())\nfor year in sorted_year_list:\n    data_dict[year].sort(key&#x3D;lambda element: element[1], reverse&#x3D;True)\n    # 取出本年前10名的国家\n    year_data &#x3D; data_dict[year][0:10]\n    x_data &#x3D; []\n    y_data &#x3D; []\n    for country_gdp in year_data:\n        x_data.append(country_gdp[0])  # x轴添加国家\n        y_data.append(country_gdp[1] &#x2F; 100000000)  # y轴添加GDP数据\n\n\n    # 构建柱状图\n    bar &#x3D; Bar()\n    x_data.reverse()  # 反转\n    y_data.reverse()  # 反转\n    bar.add_xaxis(x_data)\n    bar.add_yaxis(&quot;GDP(亿)&quot;, y_data, label_opts&#x3D;LabelOpts(position&#x3D;&quot;right&quot;))\n    # 反转x轴和y轴\n    bar.reversal_axis()\n    # 设置每一年的图表的标题\n    bar.set_global_opts(\n        title_opts&#x3D;TitleOpts(title&#x3D;f&quot;&#123;year&#125;年全球前 10 GDP数据&quot;)\n    )\n\n    timeline.add(bar, str(year))\n\n# for 循环每一年数据,基于每一年数据,创建每一年的bar对象\n# 在for循环中，将每一年的bar对象添加到时间线中\n\n# 设置时间线自动播放\ntimeline.add_schema(\n    play_interval&#x3D; 555,\n    is_timeline_show&#x3D;True,\n    is_auto_play&#x3D;True,\n    is_loop_play&#x3D;True\n)\n\n# 绘图\ntimeline.render(&quot;1960-2019全球GDP排名前10国家.html&quot;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","feature":true,"text":"&quot;&quot;&quot; GDP动态柱状图开发 &quot;&quot;&quot; from pyecharts.charts import Bar, Timeline from pyecharts.options import * from pyecharts.g...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Python","slug":"Python","count":4,"path":"api/categories/Python.json"}],"tags":[{"name":"Python GDP动态柱状图开发","slug":"Python-GDP动态柱状图开发","count":1,"path":"api/tags/Python-GDP动态柱状图开发.json"}],"toc":"","author":{"name":"Areay7","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.zzvips.com%2Fuploads%2Fallimg%2F191218%2F195P21256-2.jpg&refer=http%3A%2F%2Fwww.zzvips.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1673538751&t=9263c8ac08a7a543e35c1027fbd1af56","link":"/","description":"<br>其实都是百炼成钢","socials":{"github":"https://github.com/Areay7","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/364522014?spm_id_from=333.337.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/areay7"},"mail":{"icon":"/svg/mail.svg","link":"mailto:2507549477@qq.com"},"qq":{"icon":"/svg/qq.svg","link":"https://user.qzone.qq.com/2507549477/main"}}}},"mapped":true,"prev_post":{"title":"Python全国疫情可视化地图开发","uid":"bdaeddbf74e43d4ee1b45db954518e60","slug":"python全国疫情可视化地图开发","date":"2022-12-22T01:56:16.168Z","updated":"2022-12-22T02:14:46.646Z","comments":true,"path":"api/articles/python全国疫情可视化地图开发.json","keywords":null,"cover":"/img/a2.webp","text":"&quot;&quot;&quot; 全国疫情可视化地图开发 &quot;&quot;&quot; import json from pyecharts.charts import Map from pyecharts.options import * # 读取数据 f &#x3...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"Python","slug":"Python","count":4,"path":"api/categories/Python.json"}],"tags":[{"name":"Python全国疫情可视化地图开发","slug":"Python全国疫情可视化地图开发","count":1,"path":"api/tags/Python全国疫情可视化地图开发.json"}],"author":{"name":"Areay7","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.zzvips.com%2Fuploads%2Fallimg%2F191218%2F195P21256-2.jpg&refer=http%3A%2F%2Fwww.zzvips.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1673538751&t=9263c8ac08a7a543e35c1027fbd1af56","link":"/","description":"<br>其实都是百炼成钢","socials":{"github":"https://github.com/Areay7","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/364522014?spm_id_from=333.337.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/areay7"},"mail":{"icon":"/svg/mail.svg","link":"mailto:2507549477@qq.com"},"qq":{"icon":"/svg/qq.svg","link":"https://user.qzone.qq.com/2507549477/main"}}}},"feature":true},"next_post":{"title":"Mysql高级","uid":"c8c70edefb9619563a3fbb2208c96ed5","slug":"Mysql高级","date":"2022-12-22T01:53:26.132Z","updated":"2022-12-22T02:00:40.911Z","comments":true,"path":"api/articles/Mysql高级.json","keywords":null,"cover":"/img/a0.webp","text":"mysql高级今日目标 掌握约束的使用 掌握表关系及建表原则 重点掌握多表查询操作 掌握事务操作 1，约束 上面表中可以看到表中数据存在一些问题： id 列一般是用标示数据的唯一性的，而上述表中的id为1的有三条数据，并且 马花疼 没有id进行标示 柳白 这条数据的age列的数据...","link":"","photos":[],"count_time":{"symbolsCount":"20k","symbolsTime":"18 mins."},"categories":[{"name":"Mysql","slug":"Mysql","count":2,"path":"api/categories/Mysql.json"}],"tags":[{"name":"Mysql高级","slug":"Mysql高级","count":1,"path":"api/tags/Mysql高级.json"}],"author":{"name":"Areay7","slug":"blog-author","avatar":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.zzvips.com%2Fuploads%2Fallimg%2F191218%2F195P21256-2.jpg&refer=http%3A%2F%2Fwww.zzvips.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1673538751&t=9263c8ac08a7a543e35c1027fbd1af56","link":"/","description":"<br>其实都是百炼成钢","socials":{"github":"https://github.com/Areay7","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/364522014?spm_id_from=333.337.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/areay7"},"mail":{"icon":"/svg/mail.svg","link":"mailto:2507549477@qq.com"},"qq":{"icon":"/svg/qq.svg","link":"https://user.qzone.qq.com/2507549477/main"}}}}}}